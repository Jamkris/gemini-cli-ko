# 신뢰할 수 있는 폴더

신뢰할 수 있는 폴더 기능은 어떤 프로젝트가 Gemini CLI의 전체 기능을 사용할 수 있는지 제어할 수 있는
보안 설정입니다. CLI가 프로젝트별 구성을 로드하기 전에 폴더를 승인하도록 요청하여 잠재적으로
악의적인 코드가 실행되는 것을 방지합니다.

## 기능 활성화

신뢰할 수 있는 폴더 기능은 **기본적으로 비활성화**되어 있습니다. 사용하려면 먼저 설정에서
활성화해야 합니다.

사용자 `settings.json` 파일에 다음을 추가하세요:

```json
{
  "security": {
    "folderTrust": {
      "enabled": true
    }
  }
}
```

## 작동 방식: 신뢰 대화 상자

기능이 활성화되면 폴더에서 처음 Gemini CLI를 실행할 때 자동으로 대화 상자가 나타나며
선택을 요청합니다:

- **Trust folder (폴더 신뢰)**: 현재 폴더(예: `my-project`)에 대한 완전한 신뢰를 부여합니다.
- **Trust parent folder (상위 폴더 신뢰)**: 상위 디렉터리(예: `safe-projects`)에 신뢰를 부여하여
  해당 하위 디렉터리도 자동으로 신뢰하도록 합니다. 모든 안전한 프로젝트를 한 곳에 보관하는 경우 유용합니다.
- **Don't trust (신뢰하지 않음)**: 폴더를 신뢰하지 않음으로 표시합니다. CLI는 제한된 "안전 모드"에서
  작동합니다.

선택 사항은 중앙 파일(`~/.gemini/trustedFolders.json`)에 저장되므로 폴더당 한 번만
질문을 받게 됩니다.

## 신뢰가 중요한 이유: 신뢰할 수 없는 작업 공간의 영향

폴더를 **신뢰하지 않는 경우**, Gemini CLI는 사용자를 보호하기 위해 제한된 "안전 모드"에서
실행됩니다. 이 모드에서는 다음 기능이 비활성화됩니다:

1.  **작업 공간 설정 무시**: CLI는 프로젝트의 `.gemini/settings.json` 파일을 로드하지
    **않습니다**. 이는 사용자 정의 도구 및 기타 잠재적으로 위험한 구성이 로드되는 것을 방지합니다.

2.  **환경 변수 무시**: CLI는 프로젝트의 어떤 `.env` 파일도 로드하지 **않습니다**.

3.  **확장 관리 제한**: 확장을 **설치, 업데이트 또는 제거할 수 없습니다**.

4.  **도구 자동 수락 비활성화**: 전역적으로 자동 수락을 활성화했더라도 도구 실행 전에 항상
    메시지가 표시됩니다.

5.  **자동 메모리 로딩 비활성화**: CLI는 로컬 설정에 지정된 디렉터리의 파일을 컨텍스트로
    자동 로드하지 않습니다.

6.  **MCP 서버 연결 안 함**: CLI는 어떤 [Model Context Protocol (MCP)](/docs/ecosystem-and-extensibility/mcp-servers)
    서버에도 연결을 시도하지 않습니다.

7.  **사용자 정의 명령 로드 안 됨**: CLI는 프로젝트별 및 전역 사용자 명령을 포함하여
    .toml 파일에서 사용자 정의 명령을 로드하지 않습니다.

폴더를 신뢰하면 해당 작업 공간에 대한 Gemini CLI의 전체 기능이 잠금 해제됩니다.

## 신뢰 설정 관리

결정을 변경하거나 모든 설정을 확인해야 하는 경우 몇 가지 옵션이 있습니다:

- **현재 폴더의 신뢰 변경**: CLI 내에서 `/permissions` 명령을 실행하세요.
  동일한 대화형 대화 상자가 나타나 현재 폴더의 신뢰 수준을 변경할 수 있습니다.

- **모든 신뢰 규칙 보기**: 신뢰하는 폴더와 신뢰하지 않는 폴더 규칙의 전체 목록을 보려면
  홈 디렉터리의 `~/.gemini/trustedFolders.json` 파일 내용을 검사할 수 있습니다.

## 신뢰 확인 프로세스 (고급)

고급 사용자의 경우, 신뢰 여부가 결정되는 정확한 작업 순서를 아는 것이 도움이 됩니다:

1.  **IDE 신뢰 신호**: [IDE 통합](/docs/ecosystem-and-extensibility/ide-integration)을 사용 중인 경우,
    CLI는 먼저 IDE에 작업 공간이 신뢰할 수 있는지 묻습니다. IDE의 응답이 가장 높은 우선순위를 갖습니다.

2.  **로컬 신뢰 파일**: IDE가 연결되어 있지 않으면, CLI는 중앙 `~/.gemini/trustedFolders.json`
    파일을 확인합니다.
